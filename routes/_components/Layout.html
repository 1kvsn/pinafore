<:Window bind:online />
<Nav :page />

<div class="container">
  <main>
    <slot></slot>
  </main>
  {{#if !$isUserLoggedIn && page === 'home'}}
    <footer>
      <p>
        Pinafore is <ExternalLink href="https://github.com/nolanlawson/pinafore">open-source software</ExternalLink>
        created by <ExternalLink href="https://nolanlawson.com">Nolan Lawson</ExternalLink> and distributed under the
        <ExternalLink href="https://github.com/nolanlawson/pinafore/blob/master/LICENSE">AGPL License</ExternalLink>.
      </p>
    </footer>
  {{/if}}
</div>
<script>
	import Nav from './Nav.html';
  import { store } from '../_store/store'
  import ExternalLink from './ExternalLink.html'

	export default {
	  oncreate() {
	    this.observe('online', online => {
	      this.store.set({online: online})
      })
    },
		components: {
			Nav,
      ExternalLink
		},
    store: () => store
	}
</script>