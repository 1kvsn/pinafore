{{#if props}}
  <PseudoVirtualListItem :component
                         :props
                         :key
                         :index
                         :length
                         :intersectionObserver
                         :isIntersecting
                         :isCached
                         :height
                         on:scrollToPosition
  />
{{/if}}
<script>
  import PseudoVirtualListItem from './PseudoVirtualListItem.html'
  export default {
    oncreate() {
      // TODO: there appears to be a bug in {{#await}} that means we have to do this manually.
      // Some items may appear on top of other items because their offset is 0 and never updated.
      let makeProps = this.get('makeProps')
      let key = this.get('key')
      if (makeProps) {
        makeProps(key).then(props => this.set({props: props}))
      }
    },
    components: {
      PseudoVirtualListItem
    }
  }
</script>